function InitTTSConfig(){var t=!1,n,i;return window.speechSynthesis?!0:(n=new XMLHttpRequest,n.open("get","/free_Web.phone/TTSConfig.json",!1),n.send(null),n.status==200&&(i=JSON.parse(n.responseText),t=i.EnableTTS),t)}function readModelChange(){var n=$("input[name='fw_read_model']:checked").val();n==0?(free_Web.Function.Read.Start(),free_Web.Function.ReadCon.clear(),free_Web.Function.audioplay.audio("您已开启指读功能")):(free_Web.Function.ReadCon.Start(),free_Web.Function.Read.clear(),free_Web.Function.audioplay.audio("您已开启连续指读功能"));configChange(null,null,null,n)}function readSpeedChange(){var n=$("input[name='fw_read_speed']:checked").val();n==0?(free_Web.Function.audioplay.speed=1,free_Web.SpeechSynthesisTool&&(free_Web.SpeechSynthesisTool.rate=1),free_Web.Function.audioplay.audio("语速已设置为标准")):n==1?(free_Web.Function.audioplay.speed=1.5,free_Web.SpeechSynthesisTool&&(free_Web.SpeechSynthesisTool.rate=1.5),free_Web.Function.audioplay.audio("语速已设置为快速")):(free_Web.Function.audioplay.speed=.6,free_Web.SpeechSynthesisTool&&(free_Web.SpeechSynthesisTool.rate=.6),free_Web.Function.audioplay.audio("语速已设置为缓慢"));configChange(null,null,n,null)}function loadVoiceLenged(){$("#free_Web_read_seting").show();setTimeout(()=>{var n=getGlobalConfig();n.voiceSwitch?($("#fw_read_switch").addClass("fw-switch-on"),$("#free_Web_read_seting").show()):($("#fw_read_switch").removeClass("fw-switch-on"),$("#free_Web_read_seting").hide())},250)}function getGlobalConfig(){var n=localStorage.getItem("free_web_config");return n?n=JSON.parse(n):(n={FwChangeBg:0,FwFontZoom:0,FwReadSpeed:0,ReadCon:0,voiceSwitch:!1},localStorage.setItem("free_web_config",JSON.stringify(n))),n}function setGlobalConfig(n){localStorage.setItem("free_web_config",JSON.stringify(n))}function configChange(n,t,i,r,u){var f=getGlobalConfig(),e;n!=null&&(f.FwChangeBg=n);t!=null&&(f.FwFontZoom=t);i!=null&&(f.FwReadSpeed=i);r!=null&&(f.ReadCon=r);u&&(f.voiceSwitch=!f.voiceSwitch,f.voiceSwitch?($("#fw_read_switch").addClass("fw-switch-on"),$("#free_Web_read_seting").show(),free_Web.Function.audioplay.audio("您已打开朗读页面功能"),jQuery(".fw-row-tab").slide({effect:"left",mainCell:".in"})):($("#fw_read_switch").removeClass("fw-switch-on"),$("#free_Web_read_seting").hide(),free_Web.Function.audioplay.audio("您已关闭朗读页面功能")),f.ReadCon!=null&&f.voiceSwitch&&(e=f.ReadCon,$("input[name='fw_read_model']")[e].checked=!0,e==0?free_Web.Function.Read.Start(!0):free_Web.Function.ReadCon.Start(!0)));setGlobalConfig(f);InitConfig()}function applyConfig(n){var t=getGlobalConfig(),i;t.FwChangeBg!=null&&($('input:radio[name="fw_change_bg"]')[t.FwChangeBg].checked=!0,free_Web.Function.Br_ChangBg.Start(t.FwChangeBg,n));t.FwFontZoom!=null&&($('input:radio[name="fw_font_zoom"]')[t.FwFontZoom].checked=!0,free_Web.Function.FontZoom.Start(t.FwFontZoom,null,n));t.FwReadSpeed!=null&&t.voiceSwitch&&(i=t.FwReadSpeed,$("input[name='fw_read_speed'][value='"+i+"']")[0].checked=!0,i==0?(free_Web.Function.audioplay.speed=1,free_Web.SpeechSynthesisTool&&(free_Web.SpeechSynthesisTool.rate=1)):i==1?(free_Web.Function.audioplay.speed=1.5,free_Web.SpeechSynthesisTool&&(free_Web.SpeechSynthesisTool.rate=1.5)):(free_Web.Function.audioplay.speed=.6,free_Web.SpeechSynthesisTool&&(free_Web.SpeechSynthesisTool.rate=.6)));t.ReadCon!=null&&t.voiceSwitch&&(i=t.ReadCon,$("input[name='fw_read_model']")[i].checked=!0,i==0?free_Web.Function.Read.Start(!0):free_Web.Function.ReadCon.Start(!0));t.voiceSwitch?($("#fw_read_switch").addClass("fw-switch-on"),$("#free_Web_read_seting").show()):($("#fw_read_switch").removeClass("fw-switch-on"),$("#free_Web_read_seting").hide());setGlobalConfig(t)}function InitConfig(){var n=getGlobalConfig(),t;n.FwChangeBg!=null&&($('input:radio[name="fw_change_bg"]')[n.FwChangeBg].checked=!0);n.FwFontZoom!=null&&($('input:radio[name="fw_font_zoom"]')[n.FwFontZoom].checked=!0);n.FwReadSpeed!=null&&(t=n.FwReadSpeed,$("input[name='fw_read_speed'][value='"+t+"']")[0].checked=!0);n.ReadCon!=null&&(t=n.ReadCon,$("input[name='fw_read_model']")[t].checked=!0)}var freeStatusDiv,barrierFreeBtn,freeWebReadPlay,freeWebReadPlaying,freeWebHtmlBox,freeWebHtmlBoxTop,freeWebHtmlBoxBody,freeWebHtmlSwitch,freeWebHtmlSeting,freeWebHtmlFont,freeWebHtmlRead,freeWebHtmlReadSeting,freeWebHtmlElder,free_Web;document.write('<script src="/free_Web.phone/pinyin.js" type="text/javascript"><\/script>');document.write('<script src="/free_Web.phone/free_Web_page.js?i=4" type="text/javascript"><\/script>');document.write('<script src="/free_Web.phone/free_Web_FPing.js?i=4" type="text/javascript"><\/script>');document.write('<script src="/free_Web.phone/free_Web_ReadArea.js?i=4" type="text/javascript"><\/script>');document.write('<script src="/free_Web.phone/browserRead.js?i=6" type="text/javascript"><\/script>');document.write('<script src="/free_Web.phone/browserKeys.js" type="text/javascript"><\/script>');document.write('<script src="/free_Web.phone/free_Web_FPing.ClickReadVoice.js" type="text/javascript"><\/script>');freeStatusDiv=document.createElement("div");freeStatusDiv.id="free-web-status-div";barrierFreeBtn=document.createElement("div");barrierFreeBtn.id="barrierFreeBtn";barrierFreeBtn.innerHTML='<a href="javascript:free_Web.Function.show.Seting();" ><i class="fa fa-power-mozhangai"><\/i><i class="fa fa-power-laoren"><\/i><\/a>';freeStatusDiv.appendChild(barrierFreeBtn);freeWebReadPlay=document.createElement("div");freeWebReadPlay.id="free_Web_read_play";freeWebReadPlay.innerHTML='<a href="javascript:;"><i class="fa fa-play"><\/i><\/a>';freeStatusDiv.appendChild(freeWebReadPlay);freeWebReadPlaying=document.createElement("div");freeWebReadPlaying.id="free_Web_read_playing";freeWebReadPlaying.innerHTML='<div class="sound-effects"><div class="sound-effects-left"><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><\/div><div class="sound-effects-right"><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><\/div><\/div><div class="sound-btn-stop"><a href="javascript:;"><i class="fa fa-pause"><\/i><\/a><\/div>';freeStatusDiv.appendChild(freeWebReadPlaying);document.body.appendChild(freeStatusDiv);freeWebHtmlBox=document.createElement("div");freeWebHtmlBox.id="free_Web_box";freeWebHtmlBoxTop=document.createElement("div");freeWebHtmlBoxTop.className="fw-top";freeWebHtmlBoxTop.innerHTML='<a href="javascript:free_Web.Function.show.Seting();" class="fw-close"><i class="fa fa-close"><\/i><\/a>';freeWebHtmlBox.appendChild(freeWebHtmlBoxTop);freeWebHtmlBoxBody=document.createElement("div");freeWebHtmlBoxBody.className="fw-body";freeWebHtmlSwitch=document.createElement("div");freeWebHtmlSwitch.id="free_Web_switch";freeWebHtmlSwitch.className="fw-row";freeWebHtmlSwitch.innerHTML='<div class="hd"><div class="tit">无障碍功能开关<\/div><div class="fw-switch" id="fw_fun_switch"><span class="fw-switchery"><small><\/small><\/span><\/div><\/div>';freeWebHtmlBoxBody.appendChild(freeWebHtmlSwitch);freeWebHtmlSeting=document.createElement("div");freeWebHtmlSeting.id="free_Web_seting";freeWebHtmlFont=document.createElement("div");freeWebHtmlFont.id="free_Web_font";freeWebHtmlFont.className="fw-row fw-row-tab";freeWebHtmlFont.innerHTML='<div class="hd"><ul><li>配色<\/li><li>字体<\/li><\/ul><\/div><div class="bd"><div class="in"><div class="tCon" id="free_Web_fontBg"><div class="fw-radio"><label class="fw-background fw-background-default"><input type="radio" name="fw_change_bg" value="0" checked><div class="label-txt">恢复默认配色<\/div><\/label><label class="fw-background fw-background-black"><input type="radio" name="fw_change_bg" value="1"><div class="label-txt">黑底白字<span class="link-txt">黄链接<\/span><\/div><\/label><label class="fw-background fw-background-white"><input type="radio" name="fw_change_bg" value="2"><div class="label-txt">白底黑字<span class="link-txt">蓝链接<\/span><\/div><\/label><label class="fw-background fw-background-blue"><input type="radio" name="fw_change_bg" value="3"><div class="label-txt">蓝底黄字<span class="link-txt">白链接<\/span><\/div><\/label><label class="fw-background fw-background-yellow"><input type="radio" name="fw_change_bg" value="4"><div class="label-txt">黄底黑字<span class="link-txt">蓝链接<\/span><\/div><\/label><\/div><\/div><div class="tCon" id="free_Web_fontSize"><div class="fw-radio"><label class="fw-fontsize-default"><input type="radio" name="fw_font_zoom" value="0" checked><div class="label-txt"><span>原始<\/span><span class="preview-txt">预览字体<\/span><\/div><\/label><label class="fw-fontsize-m"><input type="radio" name="fw_font_zoom" value="1"><div class="label-txt"><span>适中<\/span><span class="preview-txt">预览字体<\/span><\/div><\/label><label class="fw-fontsize-l"><input type="radio" name="fw_font_zoom" value="2"><div class="label-txt"><span>较大<\/span><span class="preview-txt">预览字体<\/span><\/div><\/label><label class="fw-fontsize-xl"><input type="radio" name="fw_font_zoom" value="3"><div class="label-txt"><span>超大<\/span><span class="preview-txt">预览字体<\/span><\/div><\/label><\/div><\/div><\/div><\/div>';freeWebHtmlSeting.appendChild(freeWebHtmlFont);freeWebHtmlRead=document.createElement("div");freeWebHtmlRead.id="free_Web_read";freeWebHtmlRead.className="fw-row";freeWebHtmlRead.innerHTML='<div class="hd"><div class="tit">朗读页面<\/div><div class="fw-switch fw-switch-on" id="fw_read_switch"><span class="fw-switchery"><small><\/small><\/span><\/div><\/div><div class="bd"><div class="fw-tips"><i class="fa fa-info-circle"><\/i>打开“朗读网页”功能后，网页的操作模式将改为：用手指单击链接/按钮等网页元素时仅播放语音，双击操作时才打开链接/执行操作。<\/div><\/div>';freeWebHtmlSeting.appendChild(freeWebHtmlRead);freeWebHtmlReadSeting=document.createElement("div");freeWebHtmlReadSeting.id="free_Web_read_seting";freeWebHtmlReadSeting.className="fw-row fw-row-tab";freeWebHtmlReadSeting.innerHTML='<div class="hd"><ul><li>语速<\/li><li>模式<\/li><\/ul><\/div><div class="bd"><div class="in"><div class="tCon" id="free_Web_read_speed"><div class="fw-radio"><label><input type="radio" onchange="readSpeedChange()" name="fw_read_speed" value="2">缓慢<\/label><label><input type="radio" onchange="readSpeedChange()" name="fw_read_speed" value="0" checked>标准<\/label><label><input type="radio" onchange="readSpeedChange()" name="fw_read_speed" value="1">快速<\/label><\/div><\/div><div class="tCon" id="free_Web_read_model"><div class="fw-radio"><label><input type="radio" onchange="readModelChange()" name="fw_read_model" value="0">指读<\/label><label><input type="radio" onchange="readModelChange()" name="fw_read_model" value="1" checked>连读<\/label><\/div><\/div><\/div><\/div>';freeWebHtmlSeting.appendChild(freeWebHtmlReadSeting);freeWebHtmlBoxBody.appendChild(freeWebHtmlSeting);freeWebHtmlElder=document.createElement("div");freeWebHtmlElder.id="free_Web_elder";freeWebHtmlElder.className="fw-row";freeWebHtmlElder.innerHTML='<div class="hd"><div class="tit">长者模式开关<\/div><div class="fw-switch" id="fw_elder_switch"><span class="fw-switchery"><small><\/small><\/span><\/div><\/div><div class="bd"><div class="fw-tips"><i class="fa fa-info-circle"><\/i>提供文字更大、阅读省力、色彩更强、辨析清晰的适老化阅读效果。开启长者模式时会同时强制开启无障碍访问功能。<\/div><\/div>';freeWebHtmlBoxBody.appendChild(freeWebHtmlElder);freeWebHtmlBox.appendChild(freeWebHtmlBoxBody);document.body.appendChild(freeWebHtmlBox);jQuery.fn.extend({removeCss:function(n){return this.each(function(){var t=$(this);return jQuery.grep(n.split(","),function(n){t.css(n,"")}),t})}});free_Web={};free_Web.IsInsideLabel=!1;free_Web.tool_Box={};free_Web.tool_Box_sub={};free_Web.Function={};free_Web.enableTTS=InitTTSConfig();window.speechSynthesis&&(free_Web.SpeechSynthesisTool={},free_Web.SpeechSynthesisTool.speechSynthesis=window.speechSynthesis,free_Web.SpeechSynthesisTool.rate=1,free_Web.SpeechSynthesisTool.volume=1,free_Web.SpeechSynthesisTool.muteVolume=1,free_Web.SpeechSynthesisTool.speaking=!1,free_Web.SpeechSynthesisTool.readFirst=!1);free_Web.Function.invokeFunction=function(n){if($.isFunction(n))return n.apply(null,Array.prototype.slice.call(arguments,1))};free_Web.Function.help={id:"Br_help",fun:"/free_Web.phone/help.htm",title:"无障碍浏览使用帮助",minTitle:"帮助",img:"Br_help.png",mp3:"Br_help.mp3",toolhtml:function(){return s="<ul>",s+="<li><a id='"+this.id+"' href='"+this.fun+"' title='"+this.title+"' target='_blank'><img src='/free_Web.phone/images/"+this.img+"'><\/a><p>"+this.minTitle+"<\/p><\/li>",s+="<\/ul>",$(s)}};free_Web.Function.show={Config:{id:"Br_close",img:"close.png",title:"开启无障碍浏览",minTitle:"关闭",closetitle:"关闭无障碍浏览",fun:"javascript:free_Web.Function.show.Start();",key:"Ctrl+Alt+B",keycode:79,elderCss:"/content.phone/main/base/css/elderlyoriented.css",elderFontZoom:2,minFontSize:22,fontSizeScale:1.5},toolhtml:function(){return s="<ul>",s+="<li><a id='"+this.Config.id+"' href='"+this.Config.fun+"' title='"+this.Config.closetitle+"（"+this.Config.key+"）'><img src='/free_Web.phone/images/"+this.Config.img+"'><\/a><p>"+this.Config.minTitle+"<\/p><\/li>",s+="<\/ul>",$(s)},cookieName:"free_Web_status",clear:function(){free_Web.cookie.setCookie(this.cookieName,0);free_Web.Function.installBox.remove();this.status=!1},cookieMethod:function(){var t=localStorage.getItem("free-web-status"),n;t&&JSON.parse(t)?(free_Web.Function.installBox.Isinstall(!0),free_Web.Function.Read.Start(),$("#free_Web_read_play").hide(),$("#free_Web_read_playing").hide(),this.status=!0,$("#free-web-status-div").show()):($("#free-web-status-div").hide(),this.status=!1);n=localStorage.getItem("elder-web-status");n&&JSON.parse(n)?(this.ElderStart(),this.elderStatus=!0):this.elderStatus=!1},status:!1,IsIsinstall:!1,Start:function(){this.status?(free_Web.Function.installBox.remove(),this.status=!1,free_Web.cookie.setCookie(this.cookieName,0),$("#Browser_head").html("无障碍浏览"),free_Web.Function.clear(),localStorage.setItem("free-web-status",!1),$("#free-web-status-div").hide(),free_Web.Function.audioplay.audio("您已关闭无障碍浏览功能"),this.elderStatus&&this.ElderStart()):(free_Web.cookie.setCookie(this.cookieName,1),this.IsIsinstall||free_Web.Function.installBox.Isinstall(),this.status=!0,$("#Browser_head").html("关闭无障碍浏览"),localStorage.setItem("free-web-status",!0),$("#free-web-status-div").show(),free_Web.Function.audioplay.audio("您已开启无障碍浏览功能"));free_Web.Function.Read.Start()},elderStatus:!1,ElderStart:function(n){var r=getGlobalConfig(),i,t;this.elderStatus?($("#fw_elder_switch").removeClass("fw-switch-on"),$("#barrierFreeBtn").removeClass("barrierFreeBtn-elder"),localStorage.setItem("elder-web-status",!1),t=document.querySelector("#slbCss"),t&&(t.parentNode.removeChild(t),this.slideReload(!1)),this.elderStatus=!1,r.FwFontZoom==this.Config.elderFontZoom&&(configChange(null,0,null,null),free_Web.Function.FontZoom.Start(0)),this.clearFontSize(),free_Web.Function.audioplay.audio("您已关闭长者模式")):(this.status||this.Start(),$("#fw_elder_switch").addClass("fw-switch-on"),$("#barrierFreeBtn").addClass("barrierFreeBtn-elder"),localStorage.setItem("elder-web-status",!0),this.Config.elderCss&&(t=document.createElement("link"),t.id="slbCss",t.rel="stylesheet",t.href=this.Config.elderCss,document.head.appendChild(t)),this.slideReload(!0),this.elderStatus=!0,i=n?this.Config.elderFontZoom:parseInt(r.FwFontZoom),configChange(null,i,null,null),free_Web.Function.FontZoom.Start(i),this.setFontSize(),free_Web.Function.audioplay.audio("您已开启长者模式"))},setFontSize:function(){var t=free_Web.Function.show.Config.fontSizeScale,n=free_Web.Function.show.Config.minFontSize;$(".conTxt voice.Shimen-Pointer-Label").each(function(){var u=$(this).css("font-size"),i=parseFloat(u)*t,e=$(this).css("line-height"),r=parseFloat(e)*t,f=u.slice(-2);i<n&&(i=n,r=r*(n/i));$(this).css({"font-size":i+f,"line-height":r+f})})},clearFontSize:function(){$(".conTxt voice.Shimen-Pointer-Label").each(function(){$(this).removeAttr("style")})},slideReload:function(n){var t;if(n){t=$(window).width()+.1;typeof WeixinJSBridge=="object"&&typeof WeixinJSBridge.invoke=="function"?n():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",n,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",n),document.attachEvent("onWeixinJSBridgeReady",n));function n(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0});WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}}else t=$(window).width()-.1;$(document.documentElement).css("width",t);$(window).trigger("resize");setTimeout(function(){$(document.documentElement).css("width","auto")},101)},slideOn:!1,setingOpen:!1,Seting:function(){var n=this;n.setingOpen?($("#winMark").hide(),$("#free_Web_box").hide(),$("#barrierFreeBtn").show(),n.setingOpen=!1):($("#winMark").show(),$("#free_Web_box").show(0,function(){free_Web.Function.show.status&&!n.slideOn&&(jQuery(".fw-row-tab").slide({effect:"left",mainCell:".in"}),n.slideOn=!0)}),$("#barrierFreeBtn").hide(),n.setingOpen=!0)}};free_Web.Function.installBox={box:"free_Web_box",Isinstall:function(n){free_Web.Function.show.status||($("#fw_fun_switch").addClass("fw-switch-on"),$("#barrierFreeBtn").addClass("barrierFreeBtn-on"),$("#free_Web_seting").show(0,function(){!free_Web.Function.show.slideOn&&free_Web.Function.show.setingOpen&&(jQuery(".fw-row-tab").slide({effect:"left",mainCell:".in"}),free_Web.Function.show.slideOn=!0)}),free_Web.Function.ClickReadVoice.Start(),this.IsIsinstall=!0,setTimeout(()=>{applyConfig(n)},80))},remove:function(){free_Web.Function.show.status&&($("#fw_fun_switch").removeClass("fw-switch-on"),$("#barrierFreeBtn").removeClass("barrierFreeBtn-on"),$("#fw_elder_switch").removeClass("fw-switch-on"),$("#free_Web_seting").hide(),this.IsIsinstall=!1,this.elderStatus=!1)}};free_Web.Function.InsideLabel={init:function(){for(var t=document.getElementsByTagName("body")[0],n=0;n<t.childNodes.length;n++)try{this.nodeText(t.childNodes[n])}catch(i){}try{$("voice.Shimen-Pointer-Label").each(function(){$(this).get(0).outerHTML=$(this).get(0).outerHTML.replace(/([^，；。>]+)([，；。])([^，；。<]+)/gim,"$1<\/voice>$2<voice class='Shimen-Pointer-Label'>$3")})}catch(i){}free_Web.IsInsideLabel=!0},nodeText:function(n){var t,i;if(n.id!="browser_audiobox"&&n.id!="free_Web_box"&&n.nodeName.toLowerCase()!="script"&&n.nodeName.toLowerCase()!="style"&&!((" "+n.className+" ").indexOf(" videoPlayer ")>-1))for(t=0;t<n.childNodes.length;t++)try{n.childNodes[t].hasChildNodes()&&this.nodeText(n.childNodes[t]);n.childNodes[t].nodeType!=3||/^\s+$/.test(n.childNodes[t].nodeValue)||(i=document.createElement("voice"),i.className="Shimen-Pointer-Label",i.innerHTML=n.childNodes[t].nodeValue,n.replaceChild(i,n.childNodes[t]));n.childNodes[t].nodeType==1&&n.childNodes[t].nodeName==="IMG"&&(n.childNodes[t].alt!=""||n.childNodes[t].parentElement.nodeName=="A"||n.childNodes[t].title!="")&&$(n.childNodes[t]).addClass("IMG-Shimen-Pointer-Label");n.childNodes[t].nodeType==1&&n.childNodes[t].nodeName==="VIDEO"&&$(n.childNodes[t]).addClass("VIDEO-Shimen-Pointer-Label");n.childNodes[t].nodeType==1&&n.childNodes[t].nodeName==="AUDIO"&&$(n.childNodes[t]).addClass("AUDIO-Shimen-Pointer-Label");n.childNodes[t].nodeType==1&&n.childNodes[t].nodeName==="INPUT"&&$(n.childNodes[t]).addClass("INPUT-Shimen-Pointer-Label");n.childNodes[t].nodeType==1&&n.childNodes[t].nodeName==="SELECT"&&$(n.childNodes[t]).addClass("SELECT-Shimen-Pointer-Label")}catch(r){}},claer:function(){}};free_Web.Function.clear=function(){free_Web.Function.show.clear();free_Web.Function.pageZoom.clear();free_Web.Function.FontZoom.clear();free_Web.Function.Br_ChangBg.clear();free_Web.Function.Fping.clear();free_Web.Function.Read.clear();free_Web.Function.ReadArea.clear();free_Web.Function.ReadCon.clear();free_Web.Function.guides.clear();free_Web.Function.audioplay.beforeNewPlayer();free_Web.Function.textMode.status&&window.location.reload()};free_Web.Function.audioplay={speed:1,VolumeNum:100,audioBox:null,IsMute:!1,isSectionPlayed:!0,turl:"https://tts.powereasy.net/ServicesManagement/home/index",playingUrl:"",continueLongText:void 0,load:function(n){if(free_Web.SpeechSynthesisTool)free_Web.Function.audioplay.audio("您已开启无障碍浏览功能");else{soundManager.useFastPolling=!0;soundManager.onready(function(t){if(t.success)n||free_Web.Function.audioplay.audio("您已开启无障碍浏览功能");else return!1})}},stopAll:function(){free_Web.SpeechSynthesisTool?free_Web.SpeechSynthesisTool.speechSynthesis.cancel():(soundManager.stopAll(),this.isSectionPlayed=!0)},pauseAll:function(){free_Web.SpeechSynthesisTool?free_Web.SpeechSynthesisTool.speechSynthesis.pause():soundManager.pauseAll()},resumeAll:function(){free_Web.SpeechSynthesisTool?free_Web.SpeechSynthesisTool.speechSynthesis.resume():soundManager.resumeAll()},audio:function(n,t,i,r){var f,e,u;if(!free_Web.enableTTS)return!1;$("#free_Web_read_play").hide();$("#free_Web_read_playing").show(0,function(){$(this).animate({width:"200px"},300)});free_Web.SpeechSynthesisTool?(free_Web.SpeechSynthesisTool.speaking=free_Web.SpeechSynthesisTool.speechSynthesis.speaking,free_Web.SpeechSynthesisTool.speechSynthesis.cancel(),n&&n!=""&&(!r||r.length<=0)?(free_Web.SpeechSynthesisTool.InitContentPlay(),f=free_Web.SpeechSynthesisTool.CreateUtterance(n,t),setTimeout(free_Web.SpeechSynthesisTool.speechSynthesis.speak(f),200),free_Web.SpeechSynthesisTool.speechSynthesis.resume()):$.each(r,function(n,i){var r=free_Web.SpeechSynthesisTool.CreateUtterance(i,t);setTimeout(free_Web.SpeechSynthesisTool.speechSynthesis.speak(r),100);free_Web.SpeechSynthesisTool.speechSynthesis.resume()})):(this.stopAll(),e=window.location.href,u=this.turl+"?text="+encodeURI(n)+"&speed="+this.speed+"&sourceUrl="+e,this.play(u,t,i,r,this.turl,this.speed),this.playingUrl=u)},play:function(n,t,i,r,u,f){if(!free_Web.enableTTS)return!1;if(free_Web.SpeechSynthesisTool&&r&&r.length>0)free_Web.SpeechSynthesisTool.speechSynthesis.cancel(),$.each(r,function(n,t){var i=new SpeechSynthesisUtterance(t);i.rate=free_Web.SpeechSynthesisTool.rate;i.volume=free_Web.SpeechSynthesisTool.volume;setTimeout(free_Web.SpeechSynthesisTool.speechSynthesis.speak(i),100);free_Web.SpeechSynthesisTool.speechSynthesis.resume()});else{this.stopAll();var o="Shimen_gov_vioce"+this.r(),e=this;this.audioBox=soundManager.createSound({id:o,url:n,autoLoad:!0,autoPlay:!0,onload:function(){},onfinish:function(){this.destruct();e.isSectionPlayed=!0;free_Web.Function.invokeFunction(t);free_Web.Function.invokeFunction(e.continueLongText);$("#free_Web_read_play").hide();$("#free_Web_read_playing").hide()},onplay:function(){r!=undefined&&i!=undefined&&i<r.length-1&&setTimeout(function(){$.ajax({type:"get",url:u+"?text="+r[i+1]+"&speed="+f+"&isLoad=true&sourceUrl="+window.location.href,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0})},1e3)},volume:this.VolumeNum})}},playLongText:function(n,t,i){function b(){e++;t(e,h);e>=h&&free_Web.Function.invokeFunction(i)}function d(){s.isSectionPlayed=!1;e>=h?s.continueLongText=void 0:s.audio(f[e],b,e,f)}var r,l,h;if(!free_Web.enableTTS)return!1;if(n=n.trim(),n=n.replace(new RegExp("&nbsp;","gm"),""),n=n.replace(/\s*/g,""),this.stopAll(),!n)return setTimeout(function(){free_Web.Function.invokeFunction(i)},100),0;if(n.length<=100)return this.audio(n,i),1;var f=[],e=0,c=1,o=0,s=this;for(f[0]="开始朗读文章内容";;){if(r=n.substring(o,o+101),o>=n.length-1)break;if(r[r.length-1]=="，"||r[r.length-1]=="。"||r[r.length-1]=="；"||r[r.length-1]=="!"||r[r.length-1]=="？"||r[r.length-1]=="、")f[c]=r,c++,o+=r.length;else{var k=r.lastIndexOf("，"),a=r.lastIndexOf("。"),v=r.lastIndexOf("；"),y=r.lastIndexOf("！"),p=r.lastIndexOf("？"),w=r.lastIndexOf("、"),u=k;u<a&&(u=a);u<v&&(u=v);u<y&&(u=y);u<p&&(u=p);u<w&&(u=w);l=r.length-1-u;u==-1&&(l=0,u=r.length);f[c]=r.substring(0,u+1);c++;o+=r.length-l}}return h=f.length,s.continueLongText=d,s.audio(f[e],b,e,f),h},audioCon:function(n){var i,r,t;$("#free_Web_read_play").hide();$("#free_Web_read_playing").show(0,function(){$(this).animate({width:"200px"},300)});free_Web.SpeechSynthesisTool?(free_Web.SpeechSynthesisTool.speaking=free_Web.SpeechSynthesisTool.speechSynthesis.speaking,free_Web.SpeechSynthesisTool.InitContentPlay(),free_Web.SpeechSynthesisTool.speechSynthesis.cancel(),n&&n!=""&&(i=free_Web.SpeechSynthesisTool.CreateUtterance(n),setTimeout(free_Web.SpeechSynthesisTool.speechSynthesis.speak(i),100),free_Web.SpeechSynthesisTool.speechSynthesis.resume())):(this.stopAll(),r=window.location.href,t=this.turl+"?text="+encodeURI(n)+"&speed="+this.speed+"&sourceUrl="+r,this.playCon(t),this.playingUrl=t)},playCon:function(n){if(!free_Web.enableTTS)return!1;this.stopAll();var t="Shimen_gov_vioce"+this.r(),i=this;this.audioBox=soundManager.createSound({id:t,url:n,autoLoad:!0,autoPlay:!0,onload:function(){},onfinish:function(){this.destruct();free_Web.Function.ReadCon.ReadNext();$("#free_Web_read_play").hide();$("#free_Web_read_playing").hide()},volume:this.VolumeNum});free_Web.Function.audioplay.IsMute?this.audioBox.mute():this.audioBox.unmute()},Mute:function(){free_Web.Function.audioplay.IsMute=!0;free_Web.SpeechSynthesisTool?(free_Web.SpeechSynthesisTool.muteVolume=free_Web.SpeechSynthesisTool.volume,free_Web.SpeechSynthesisTool.volume=0,free_Web.Function.audioplay.VolumeNum=0,free_Web.Function.Read.show()):this.audioBox.mute()},UnMute:function(){free_Web.Function.audioplay.IsMute=!1;free_Web.SpeechSynthesisTool?(free_Web.SpeechSynthesisTool.volume=free_Web.SpeechSynthesisTool.muteVolume,free_Web.Function.audioplay.VolumeNum=free_Web.SpeechSynthesisTool.volume*100,free_Web.Function.Read.show()):this.audioBox.unmute()},Volume:function(n){this.VolumeNum=n;this.audioBox.setVolume(this.VolumeNum)},r:function(){return Math.round(2147483647*(Math.random()||.5))*+new Date%1e10},beforeNewPlayer:function(){$(".power-content_voice .power-content_voice-start").removeClass("disabled");$(".power-content_voice .power-content_voice-stop").addClass("disabled");$(".power-content_voice progress").attr("value",0);free_Web.Function.audioplay.continueLongText=void 0}};free_Web.cookie={};free_Web.cookie.setCookie=function(n,t){n!=undefined&&t!=undefined&&(document.cookie=n+"="+escape(t)+";")};free_Web.cookie.getCookie=function(n){if(n!=undefined){var t=document.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)"));return t!=null?unescape(t[2]):null}};free_Web.SpeechSynthesisTool&&(free_Web.SpeechSynthesisTool.CreateUtterance=function(n,t){var i=new SpeechSynthesisUtterance(n);return i.rate=free_Web.SpeechSynthesisTool.rate,i.volume=free_Web.SpeechSynthesisTool.volume,i.onend=function(){$("#free_Web_read_play").hide();$("#free_Web_read_playing").hide();free_Web.Function.ReadCon.status&&!free_Web.SpeechSynthesisTool.speaking&&free_Web.SpeechSynthesisTool.readFirst&&free_Web.Function.ReadCon.ReadNext();free_Web.SpeechSynthesisTool.speaking&&(free_Web.SpeechSynthesisTool.speaking=!1);t&&free_Web.Function.invokeFunction(t)},i.onstart=function(){$("#free_Web_read_play").hide();$("#free_Web_read_playing").show(0,function(){$(this).animate({width:"200px"},300)})},i},free_Web.SpeechSynthesisTool.InitContentPlay=function(){$(".power-content_voice-start").removeClass("disabled");$(".power-content_voice-pause").addClass("disabled");$(".power-content_voice-stop").addClass("disabled");$(".power-content_voice-stop progress").attr("value",0);$(".power-content_voice-stop progress").find("ie").width("0%");$(".power-content_voice-pause").hide();$(".power-content_voice-start").show()});$(document).ready(function(){$(document).click(function(n){free_Web.Function.Br_ChangBg.ISItemsShow&&n.target.getAttribute("dir")!=free_Web.Function.Br_ChangBg.Config.menuBoxid&&free_Web.Function.Br_ChangBg.up();free_Web.Function.guides.ISItemsShow&&n.target.getAttribute("dir")!=free_Web.Function.guides.Config.tools[1].dir&&free_Web.Function.guides.up();free_Web.Function.Fping.ISItemsShow&&n.target.getAttribute("dir")!=free_Web.Function.Fping.Config.tools[1].dir&&free_Web.Function.Fping.up();free_Web.Function.VoiceSet.ISItemsShow&&n.target.getAttribute("dir")!=free_Web.Function.Read.Config.tools[3].dir&&free_Web.Function.VoiceSet.up()});free_Web.Function.show.cookieMethod();free_Web.SpeechSynthesisTool||(soundManager.debugMode=!1,soundManager.url="/free_Web.phone/swf/");$("#fw_fun_switch").click(function(){free_Web.Function.show.Start();loadVoiceLenged()});$('input:radio[name="fw_font_zoom"]').click(function(){configChange(null,$(this).val(),null,null);free_Web.Function.FontZoom.Start($(this).val());free_Web.Function.audioplay.audio("字体大小已设置为"+["默认","适中","较大","超大"][$(this).val()])});$('input:radio[name="fw_change_bg"]').click(function(){configChange($(this).val(),null,null,null);free_Web.Function.Br_ChangBg.Start($(this).val());free_Web.Function.audioplay.audio("您已选择"+free_Web.Function.Br_ChangBg.Config.items[$(this).val()].title+free_Web.Function.Br_ChangBg.Config.items[$(this).val()].linktitle)});$('input:radio[name="fw_read_speed"]').click(function(){configChange(null,null,$(this).val(),null)});$('input:radio[name="fw_read_model"]').click(function(){configChange(null,null,null,$(this).val())});$("#fw_read_switch").click(function(){configChange(null,null,null,null,!0)});$("#free_Web_read_play").click(function(){$(this).hide();$("#free_Web_read_playing").show(0,function(){$(this).animate({width:"200px"},300)});free_Web.Function.audioplay.resumeAll()});$("#free_Web_read_playing .sound-btn-stop").click(function(){$("#free_Web_read_playing").animate({width:"48px"},200,function(){$(this).hide();$("#free_Web_read_play").show();free_Web.Function.audioplay.pauseAll()})});$("#fw_elder_switch").click(function(){free_Web.Function.show.ElderStart(!0)})}),function(){function t(){var n=!1;$("[data-power-accessible-reading]").each(function(){function o(n,t){r.attr("value",n);r.find("ie").width(Math.round(n*100/t)+"%")}function s(){free_Web.Function.audioplay.beforeNewPlayer();t.addClass("disabled");u.removeClass("disabled");i.removeClass("disabled");t.hide();i.show()}function e(){n=!1;t.removeClass("disabled");i.addClass("disabled");u.addClass("disabled");r.attr("value",0);r.find("ie").width("0%");i.hide();t.show()}function h(){n=!0;t.removeClass("disabled");i.addClass("disabled");u.removeClass("disabled");i.hide();t.show()}function c(){n=!1;t.addClass("disabled");u.removeClass("disabled");i.removeClass("disabled");t.hide();i.show()}var f=$(this),t=$($.parseHTML('<a href="javascript:;" class="voice-button power-content_voice-start"><button><\/button><\/a>')),i=$($.parseHTML('<a href="javascript:;" class="voice-button power-content_voice-pause disabled" style="display:none;"><button><\/button><\/a>')),u=$($.parseHTML('<a href="javascript:;" class="voice-button power-content_voice-stop disabled"><button><\/button><\/a>')),r=$('<progress value="0" max="100" ><ie style="width:0%;"><\/ie><\/progress>');f.before($('<div class="power-content_voice" data-power-notprint><\/div>').append(t).append(i).append(u).append(r));free_Web.enableTTS||$(".power-content_voice").addClass("hide_tts");$(".power-content_voice").on("click",'a[class="voice-button power-content_voice-start"]:not(.disabled)',function(){var h,i,u,t,l;if(n){c();free_Web.Function.audioplay.resumeAll();return}return s(),free_Web.IsInsideLabel||free_Web.Function.InsideLabel.init(),h=/<\/?.+?\/?>/g,i=f.html(),i=i.replace(new RegExp("<\/br>","gm"),"。"),i=i.replace(new RegExp("<br>","gm"),"。"),i="<div>"+i+"<\/div>",u=$(i).find("p"),t="",u.length>0?$.each(u,function(n,i){var r=i.innerHTML;r=r.replace("\n","");r=r.trim();t+=r+"。"}):t=i,t=t.replace(h,""),t=t.replace(new RegExp("。。。","gm"),"。"),t=t.replace(new RegExp("。。","gm"),"。"),l=free_Web.Function.audioplay.playLongText(t,o,e),r.attr("max",l),!1}).on("click",'a[class="voice-button power-content_voice-stop"]:not(.disabled)',function(){return e(),free_Web.Function.audioplay.stopAll(),!1}).on("click",'a[class="voice-button power-content_voice-pause"]:not(.disabled)',function(){return h(),free_Web.Function.audioplay.pauseAll(),!1})})}$(".fa-power-mozhangai").on("click",function(){loadVoiceLenged()});$(function(){t()});var n=localStorage.getItem("free-web-status");n&&JSON.parse(n)?$("#free-web-status-div").show():$("#free-web-status-div").hide()}();window.onbeforeunload=function(){free_Web.SpeechSynthesisTool&&free_Web.SpeechSynthesisTool.speechSynthesis.cancel()};